<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Android Documentation</title>
    <link href="../images/favicon-32x32.png" rel="icon" type="image/png" />

    <link href="../stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="../stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
      <script src="../javascripts/all.js" type="text/javascript"></script>


    <!-- Google Tag Manager -->
    <script>
      (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-PF46GT3');
    </script>
    <!-- End Google Tag Manager -->
  </head>

  <body class="android android_index">
    <!-- Google Tag Manager (noscript) -->
    <noscript>
      <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PF46GT3" height="0" width="0" style="display:none;visibility:hidden"></iframe>
    </noscript>
    <!-- End Google Tag Manager (noscript) -->

    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="../images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <a href="/"><img src="../images/logo.png" /></a>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://www.wootric.com/'>Sign Up</a></li>
            <li><a href='http://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='installing-android-sdk'>Installing Android SDK</h1><h2 id='using-maven'>Using Maven</h2><pre><code class="highlight xml"><span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>com.wootric<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>wootric-sdk-android<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;version&gt;</span>2.4.7<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre>

<p>If you use Maven, you can include this library as a dependency.</p>
<h2 id='using-gradle'>Using Gradle</h2><pre><code class="highlight xml">compile 'com.wootric:wootric-sdk-android:2.4.7'
</code></pre>

<p>Add the following to your app’s <code class="prettyprint">build.gradle</code> file, inside the dependencies section.</p>
<h1 id='presenting-the-survey'>Presenting the survey</h1>
<p>WootricSDK task is to present a fully functional survey view with just a few lines of code.</p>
<h2 id='step-1--add-permissions'>Step 1. Add permissions</h2><pre><code class="highlight xml"><span class="nt">&lt;uses-permission</span> <span class="na">android:name=</span><span class="s">"android.permission.INTERNET"</span> <span class="nt">/&gt;</span>
</code></pre>

<p>Add the internet permissions to the <code class="prettyprint">AndroidManifest.xml</code> file.</p>
<h2 id='step-2--add-proguard-rules'>Step 2. Add ProGuard rules</h2><pre><code class="highlight plaintext">-keepattributes *Annotation*, Signature

##== Wootric ==
-keep class com.wootric.** { *; }

##== Retrofit ==
-keep class retrofit.** { *; }
-keepclassmembernames interface * {
    @retrofit.http.* &lt;methods&gt;;
}
</code></pre>

<p>Add the following to your ProGuard rules file.</p>
<h2 id='step-3--initialize-wootric'>Step 3. Initialize Wootric</h2><pre><code class="highlight java"><span class="kn">import</span> <span class="nn">com.wootric.androidsdk.Wootric</span><span class="o">;</span>

<span class="c1">// Inside your method</span>
<span class="n">Wootric</span> <span class="n">wootric</span> <span class="o">=</span> <span class="n">Wootric</span><span class="o">.</span><span class="na">init</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="o">&lt;</span><span class="n">YOUR_CLIENT_ID</span><span class="o">&gt;,</span> <span class="o">&lt;</span><span class="n">YOUR_CLIENT_SECRET</span><span class="o">&gt;,</span> <span class="o">&lt;</span><span class="n">YOUR_ACCOUNT_TOKEN</span><span class="o">&gt;);</span>

<span class="c1">// TODO: Required to uniquely identify a user. It can be any unique value other than email.</span>
<span class="n">wootric</span><span class="o">.</span><span class="na">setEndUserEmail</span><span class="o">(</span><span class="s">"nps@example.com"</span><span class="o">);</span>
<span class="c1">// TODO: The current logged in user's sign-up date as a Unix timestamp.</span>
<span class="n">wootric</span><span class="o">.</span><span class="na">setEndUserCreatedAt</span><span class="o">(</span><span class="mi">1234567890</span><span class="o">);</span>

<span class="c1">// Use only for testing</span>
<span class="n">wootric</span><span class="o">.</span><span class="na">setSurveyImmediately</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>

<span class="n">wootric</span><span class="o">.</span><span class="na">survey</span><span class="o">();</span>
</code></pre>

<p>First import the SDK into your Activity of choosing. Then configure the SDK with your client ID, secret and account token.</p>

<p>Sign in at <a href="https://www.wootric.com/">wootric.com</a> if you haven&rsquo;t already. If you just signed up on the Wootric homepage, you will be taken directly to an installation page. If you’re a returning visitor, click on the “Settings&quot; button near the top right of the page. Navigate to the <a href="https://app.wootric.com/install">Wootric Installation Guide</a> and you will see a unique <strong>account_token</strong> for you to use.</p>

<p>The <strong>client_id</strong> and <strong>client_secret</strong> can also be found on your Settings page, on the <a href="https://app.wootric.com/account_settings/edit#!/api">API section</a>.</p>

<p>To display the survey just use <code class="prettyprint">wootric.survey();</code>. If the user is eligible (this check is built in the method) the SDK will show the survey.</p>
<h2 id='step-4--customize-the-survey'>Step 4. Customize the Survey</h2>
<blockquote>
<p>Comment out the line <code class="prettyprint">wootric.setSurveyImmediately(true)</code> when you are ready for production. Alternatively, leave the line in the code for testing purposes or to survey the customer upon every visit to a view.</p>
</blockquote>
<pre><code class="highlight java"><span class="kn">import</span> <span class="nn">com.wootric.androidsdk.Wootric</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.wootric.androidsdk.objects.WootricCustomThankYou</span><span class="o">;</span>

<span class="n">Wootric</span> <span class="n">wootric</span> <span class="o">=</span> <span class="n">Wootric</span><span class="o">.</span><span class="na">init</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="s">"your_client_id"</span><span class="o">,</span> <span class="s">"your_client_secret"</span><span class="o">,</span> <span class="s">"NPS­-xxxxxxxx"</span><span class="o">);</span>
<span class="n">wootric</span><span class="o">.</span><span class="na">setEndUserEmail</span><span class="o">(</span><span class="s">"nps@example.com"</span><span class="o">);</span>
<span class="n">wootric</span><span class="o">.</span><span class="na">setEndUserCreatedAt</span><span class="o">(</span><span class="mi">1234567890</span><span class="o">);</span>

<span class="c1">// Use only for testing</span>
<span class="n">wootric</span><span class="o">.</span><span class="na">setSurveyImmediately</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>

<span class="c1">// Customization</span>
<span class="n">WootricCustomThankYou</span> <span class="n">customThankYou</span> <span class="o">=</span> <span class="k">new</span> <span class="n">WootricCustomThankYou</span><span class="o">();</span>
<span class="n">customThankYou</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">"Merci!"</span><span class="o">);</span>

<span class="n">wootric</span><span class="o">.</span><span class="na">setProductName</span><span class="o">(</span><span class="s">"Wootric"</span><span class="o">);</span>
<span class="n">wootric</span><span class="o">.</span><span class="na">setCustomThankYou</span><span class="o">(</span><span class="n">customThankYou</span><span class="o">);</span>
<span class="n">wootric</span><span class="o">.</span><span class="na">setLanguageCode</span><span class="o">(</span><span class="s">"fr"</span><span class="o">);</span>

<span class="n">wootric</span><span class="o">.</span><span class="na">survey</span><span class="o">();</span>
</code></pre>

<p>This is an important step! <a href="https://app.wootric.com/user_settings/edit#!/survey-nps">Customize</a> your survey with the name of your product or company. As needed, make changes to our trusted <a href="https://app.wootric.com/user_settings/edit#!/survey-nps">survey</a> and <a href="https://app.wootric.com/user_settings/edit#!/sampling">sampling</a> defaults. This values can modified from your app.</p>

<p align="center" >
  <img src="https://cloud.githubusercontent.com/assets/1431421/17188297/0c761584-5402-11e6-9339-8af8f63125a5.png" alt="Wootric" title="Customization">
  <img src="https://cloud.githubusercontent.com/assets/1431421/17188298/0c8dec22-5402-11e6-8925-020e777c36ba.png" alt="Wootric" title="Customization">
</p>
<h2 id='step-5--view-your-responses-live'>Step 5. View your Responses Live!</h2>
<p>That&rsquo;s it! Once the WootricSDK is installed, eligible users will immediately start being surveyed.
Depending on the traffic of your app, you could start to see responses within a few minutes.
Responses will come in to your Wootric dash in real time.</p>

<p><aside class="notice">
For a working implementation of the Android WootricSDK, try the demo app on our <a href="https://github.com/Wootric/WootricSDK-Android">Github repo</a>.
</aside></p>
<h3 id='strongno-data-yetstrong'><strong>No data yet?</strong></h3>
<p>Checkout the <a href="https://demo.wootric.com/">Demo</a> dashboard with dummy data.</p>

<p align="center" >
  <img src="https://cloud.githubusercontent.com/assets/1431421/17186433/d64cd56c-53fa-11e6-8add-2a141ff4f886.png" alt="Wootric" title="Demo">
</p>
<h3 id='strongid-like-to-do-some-testing-first--how-do-i-ensure-that-the-survey-shows-up-on-demandstrong'><strong>I’d like to do some testing first. How do I ensure that the survey shows up on demand?</strong></h3>
<p>You can easily install Wootric in your development environment for testing. The SDK is
already set up to show the survey immediately for testing purposes only.</p>
<h3 id='additional-notes-on-wootricsdk-placement'>Additional notes on WootricSDK placement:</h3><h4 id='for-apps-with-registered-users'>For apps with registered users:</h4>
<p>If your app has registered users, we recommend that you
show the survey only on views that your logged in users will access to allow unique user
identification.</p>
<h4 id='for-ecommerce-apps'>For ecommerce apps:</h4>
<p>If your app has a checkout flow, we recommend that you show the survey
on views that won’t interrupt checkout. The most commonly used location is the transaction
completion page.</p>

<h1 id='sdk-reference'>SDK Reference</h1><h2 id='setenduseremail'>setEndUserEmail</h2><pre><code class="highlight java"><span class="n">wootric</span><span class="o">.</span><span class="na">setEndUserEmail</span><span class="o">(&lt;</span><span class="n">END_USER_EMAIL</span><span class="o">&gt;);</span>
</code></pre>

<p>While end user email is not required it is HIGHLY recommended to set it if possible.</p>
<h2 id='setenduserexternalid'>setEndUserExternalId</h2><pre><code class="highlight java"><span class="n">wootric</span><span class="o">.</span><span class="na">setEndUserExternalId</span><span class="o">(&lt;</span><span class="n">END_USER_EXTERNAL_ID</span><span class="o">&gt;);</span>
</code></pre>

<p>Set an external ID for the end user. This value is optional.</p>
<h2 id='setsurveyimmediately'>setSurveyImmediately</h2><pre><code class="highlight java"><span class="n">wootric</span><span class="o">.</span><span class="na">setSurveyImmediately</span><span class="o">(&lt;</span><span class="n">BOOL</span><span class="o">&gt;);</span>
</code></pre>

<p>If setSurveyImmediately is set to <code class="prettyprint">true</code> and user wasn&rsquo;t surveyed yet - eligibility check will return <code class="prettyprint">true</code> and survey will be displayed.</p>

<p><aside class="warning">
This should not be used in production.
</aside></p>
<h2 id='setendusercreatedat'>setEndUserCreatedAt</h2><pre><code class="highlight java"><span class="n">wootric</span><span class="o">.</span><span class="na">setEndUserCreatedAt</span><span class="o">(&lt;</span><span class="n">UNIX</span> <span class="n">Timestamp</span><span class="o">&gt;);</span>
</code></pre>

<p>When creating a new end user for survey, it will set the external creation date (so for example, date, when end user was created in your Android application).
This value is also used in eligibility check, to determine if end user should be surveyed.</p>
<h2 id='setfirstsurveydelay'>setFirstSurveyDelay</h2><pre><code class="highlight java"><span class="n">wootric</span><span class="o">.</span><span class="na">setFirstSurveyDelay</span><span class="o">(&lt;</span><span class="n">NUMBER_OF_DAYS</span><span class="o">&gt;);</span>
</code></pre>

<p>If not set, defaults to value from admin panel. Used to check if end user was created/last seen earlier than <NUMBER_OF_DAYS> ago and therefore if survey is required.</p>
<h2 id='setproperties'>setProperties</h2><pre><code class="highlight java"><span class="n">wootric</span><span class="o">.</span><span class="na">setProperties</span><span class="o">(</span><span class="n">properties</span><span class="o">);</span>
</code></pre>

<p>End user properties can be provided as a <code class="prettyprint">HashMap&lt;String, String&gt;</code> object.</p>
<h2 id='shouldskipfollowupscreenforpromoters'>shouldSkipFollowupScreenForPromoters</h2><pre><code class="highlight java"><span class="n">wootric</span><span class="o">.</span><span class="na">shouldSkipFollowupScreenForPromoters</span><span class="o">(&lt;</span><span class="n">BOOL</span><span class="o">&gt;);</span>
</code></pre>

<p>With this option enabled, promoters (score 9-10) will be taken directly to third (social share) screen, skipping the second (feedback) one.</p>

<h1 id='custom-language-audience-text-and-product-name-configuration'>Custom language, audience text and product name configuration:</h1>
<hr>
<pre><code class="highlight java"><span class="n">wootric</span><span class="o">.</span><span class="na">setLanguageCode</span><span class="o">(&lt;</span><span class="n">LANGUAGE_CODE</span><span class="o">&gt;);</span>
<span class="n">wootric</span><span class="o">.</span><span class="na">setRecommendTarget</span><span class="o">(&lt;</span><span class="n">CUSTOM_AUDIENCE</span><span class="o">&gt;);</span>
<span class="n">wootric</span><span class="o">.</span><span class="na">setProductName</span><span class="o">(&lt;</span><span class="n">CUSTOM_PRODUCT_NAME</span><span class="o">&gt;);</span>
</code></pre>

<p>Please refer to our <a href="http://docs.wootric.com/install/#custom-language-setting">docs</a> for available languages.</p>

<p><code class="prettyprint">setProductName</code> sets the product name for the end user. This will change the default question.
e.g. How likely are you to recommend productName to a friend or co-worker?
<code class="prettyprint">setRecommendTarget</code> will substitute &ldquo;friend or co-worker&rdquo;. It also takes precedence over values set in admin panel.</p>

<h1 id='custom-messages'>Custom messages</h1><pre><code class="highlight java"><span class="n">WootricCustomMessage</span> <span class="n">customMessage</span> <span class="o">=</span> <span class="k">new</span> <span class="n">WootricCustomMessage</span><span class="o">();</span>
<span class="n">customMessage</span><span class="o">.</span><span class="na">setFollowupQuestion</span><span class="o">(</span><span class="s">"custom followup"</span><span class="o">);</span>
<span class="n">customMessage</span><span class="o">.</span><span class="na">setDetractorFollowupQuestion</span><span class="o">(</span><span class="s">"custom detractor"</span><span class="o">);</span>
<span class="n">customMessage</span><span class="o">.</span><span class="na">setPassiveFollowupQuestion</span><span class="o">(</span><span class="s">"custom passive"</span><span class="o">);</span>
<span class="n">customMessage</span><span class="o">.</span><span class="na">setPromoterFollowupQuestion</span><span class="o">(</span><span class="s">"custom promoter"</span><span class="o">);</span>
<span class="n">customMessage</span><span class="o">.</span><span class="na">setPlaceholderText</span><span class="o">(</span><span class="s">"custom placeholder"</span><span class="o">);</span>
<span class="n">customMessage</span><span class="o">.</span><span class="na">setDetractorPlaceholderText</span><span class="o">(</span><span class="s">"custom detractor placeholder"</span><span class="o">);</span>
<span class="n">customMessage</span><span class="o">.</span><span class="na">setPassivePlaceholderText</span><span class="o">(</span><span class="s">"custom passive placeholder"</span><span class="o">);</span>
<span class="n">customMessage</span><span class="o">.</span><span class="na">setPromoterPlaceholderText</span><span class="o">(</span><span class="s">"custom promoter placeholder"</span><span class="o">);</span>

<span class="n">wootric</span><span class="o">.</span><span class="na">setCustomMessage</span><span class="o">(</span><span class="n">customMessage</span><span class="o">);</span>
</code></pre>

<p>Wootric provides designated class for providing custom messages -<code class="prettyprint">WootricCustomMessages</code></p>
<h1 id='custom-thank-you'>Custom thank you</h1><pre><code class="highlight java"><span class="n">WootricCustomThankYou</span> <span class="n">customThankYou</span> <span class="o">=</span> <span class="k">new</span> <span class="n">WootricCustomThankYou</span><span class="o">();</span>
<span class="n">customThankYou</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">"Thank you!!"</span><span class="o">);</span>
<span class="n">customThankYou</span><span class="o">.</span><span class="na">setDetractorText</span><span class="o">(</span><span class="s">"Detractor thank you"</span><span class="o">);</span>
<span class="n">customThankYou</span><span class="o">.</span><span class="na">setPassiveText</span><span class="o">(</span><span class="s">"Passive thank you"</span><span class="o">);</span>
<span class="n">customThankYou</span><span class="o">.</span><span class="na">setPromoterText</span><span class="o">(</span><span class="s">"Promoter thank you"</span><span class="o">);</span>
<span class="n">customThankYou</span><span class="o">.</span><span class="na">setLinkText</span><span class="o">(</span><span class="s">"Thank you link text"</span><span class="o">);</span>
<span class="n">customThankYou</span><span class="o">.</span><span class="na">setDetractorLinkText</span><span class="o">(</span><span class="s">"Detractor link text"</span><span class="o">);</span>
<span class="n">customThankYou</span><span class="o">.</span><span class="na">setPassiveLinkText</span><span class="o">(</span><span class="s">"Passive link text"</span><span class="o">);</span>
<span class="n">customThankYou</span><span class="o">.</span><span class="na">setPromoterLinkText</span><span class="o">(</span><span class="s">"Promoter link text"</span><span class="o">);</span>
<span class="n">customThankYou</span><span class="o">.</span><span class="na">setLinkUri</span><span class="o">(</span><span class="n">Uri</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"http://wootric.com/thank_you"</span><span class="o">));</span>
<span class="n">customThankYou</span><span class="o">.</span><span class="na">setDetractorLinkUri</span><span class="o">(</span><span class="n">Uri</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"http://wootric.com/detractor_thank_you"</span><span class="o">));</span>
<span class="n">customThankYou</span><span class="o">.</span><span class="na">setPassiveLinkUri</span><span class="o">(</span><span class="n">Uri</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"http://wootric.com/passive_thank_you"</span><span class="o">));</span>
<span class="n">customThankYou</span><span class="o">.</span><span class="na">setPromoterLinkUri</span><span class="o">(</span><span class="n">Uri</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"http://wootric.com/promoter_thank_you"</span><span class="o">));</span>
<span class="n">customThankYou</span><span class="o">.</span><span class="na">setScoreInUrl</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
<span class="n">customThankYou</span><span class="o">.</span><span class="na">setCommentInUrl</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
<span class="n">wootric</span><span class="o">.</span><span class="na">setCustomThankYou</span><span class="o">(</span><span class="n">customThankYou</span><span class="o">);</span>
</code></pre>

<p>Wootric provides designated class for providing custom thank you -<code class="prettyprint">WootricCustomThankYou</code></p>
<h1 id='color-customization-smartphones-only'>Color customization (smartphones only)</h1><pre><code class="highlight java"><span class="c1">// Changes background color and text buttons color for the survey</span>
<span class="n">wootric</span><span class="o">.</span><span class="na">setSurveyColor</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">color</span><span class="o">.</span><span class="na">survey_color</span><span class="o">);</span>

<span class="c1">// Changes score selector color and comment highlight color</span>
<span class="n">wootric</span><span class="o">.</span><span class="na">setScoreColor</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">color</span><span class="o">.</span><span class="na">score_color</span><span class="o">);</span>

<span class="c1">// Changes Thank You button color on the final view</span>
<span class="n">wootric</span><span class="o">.</span><span class="na">setThankYouButtonBackgroundColor</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">color</span><span class="o">.</span><span class="na">thank_you_color</span><span class="o">);</span>

<span class="c1">// Changes Facebook and Twitter buttons colors</span>
<span class="n">wootric</span><span class="o">.</span><span class="na">setSocialSharingColor</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">color</span><span class="o">.</span><span class="na">social_color</span><span class="o">);</span>
</code></pre>

<p>Colors can be customized for the smartphone&rsquo;s version.</p>

<h1 id='samples'>Samples</h1><h2 id='rate-application-on-the-play-store'>Rate application on the Play Store</h2><pre><code class="highlight java">
<span class="kn">import</span> <span class="nn">com.wootric.androidsdk.Wootric</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.wootric.androidsdk.objects.WootricCustomThankYou</span><span class="o">;</span>

<span class="o">...</span>

<span class="n">Wootric</span> <span class="n">wootric</span> <span class="o">=</span> <span class="n">Wootric</span><span class="o">.</span><span class="na">init</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">CLIENT_ID</span><span class="o">,</span> <span class="n">CLIENT_SECRET</span><span class="o">,</span> <span class="n">ACCOUNT_TOKEN</span><span class="o">);</span>

<span class="n">wootric</span><span class="o">.</span><span class="na">setEndUserEmail</span><span class="o">(</span><span class="s">"nps@example.com"</span><span class="o">);</span>

<span class="c1">// Uncomment for testing</span>
<span class="c1">// NOTE: do not use in production</span>
<span class="c1">// wootric.setSurveyImmediately(true);</span>

<span class="c1">// Will skip the Feedback view for Promoters</span>
<span class="n">wootric</span><span class="o">.</span><span class="na">shouldSkipFollowupScreenForPromoters</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>

<span class="n">WootricCustomThankYou</span> <span class="n">customThankYou</span> <span class="o">=</span> <span class="k">new</span> <span class="n">WootricCustomThankYou</span><span class="o">();</span>
<span class="n">Uri</span> <span class="n">uri</span> <span class="o">=</span> <span class="n">Uri</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"market://details?id=com.yourcompany.appid"</span><span class="o">);</span>
<span class="n">customThankYou</span><span class="o">.</span><span class="na">setPromoterLinkText</span><span class="o">(</span><span class="s">"Rate our app!"</span><span class="o">);</span>
<span class="n">customThankYou</span><span class="o">.</span><span class="na">setPromoterLinkUri</span><span class="o">(</span><span class="n">uri</span><span class="o">);</span>

<span class="n">wootric</span><span class="o">.</span><span class="na">setCustomThankYou</span><span class="o">(</span><span class="n">customThankYou</span><span class="o">);</span>
<span class="n">wootric</span><span class="o">.</span><span class="na">survey</span><span class="o">();</span>
</code></pre>

<p>You can set the last button to go to the Play Store so users can rate your app.</p>

<p align="center" >
  <img src="https://cloud.githubusercontent.com/assets/1431421/16964379/bc8e7c06-4dc0-11e6-900a-bf6a3d4501b6.png" alt="Wootric" title="Wootric" style="height:400px;">
</p>
<h2 id='set-end-user-properties'>Set End User Properties</h2><pre><code class="highlight java"><span class="kn">import</span> <span class="nn">com.wootric.androidsdk.Wootric</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.wootric.androidsdk.objects.WootricCustomThankYou</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.HashMap</span><span class="o">;</span>

<span class="o">...</span>

<span class="n">Wootric</span> <span class="n">wootric</span> <span class="o">=</span> <span class="n">Wootric</span><span class="o">.</span><span class="na">init</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">CLIENT_ID</span><span class="o">,</span> <span class="n">CLIENT_SECRET</span><span class="o">,</span> <span class="n">ACCOUNT_TOKEN</span><span class="o">);</span>

<span class="n">wootric</span><span class="o">.</span><span class="na">setEndUserEmail</span><span class="o">(</span><span class="s">"nps@example.com"</span><span class="o">);</span>

<span class="c1">// Uncomment for testing</span>
<span class="c1">// NOTE: do not use in production</span>
<span class="c1">// wootric.setSurveyImmediately(true);</span>

<span class="c1">// Set end user's properties</span>
<span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">properties</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;();</span>
<span class="n">properties</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"company"</span><span class="o">,</span> <span class="s">"Wootric"</span><span class="o">);</span>
<span class="n">properties</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"type"</span><span class="o">,</span> <span class="s">"awesome"</span><span class="o">);</span>
<span class="n">properties</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"os"</span><span class="o">,</span> <span class="s">"Android"</span><span class="o">);</span>
<span class="c1">// Integer representing the date (Unix timestamp format) of the user's last order with the key suffixed with "_date"</span>
<span class="n">properties</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"last_order_date"</span><span class="o">,</span> <span class="s">"1479316287"</span><span class="o">);</span>
<span class="c1">// Integer representing the user's total purchases with the key suffixed with "_amount"</span>
<span class="n">properties</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"total_purchase_amount"</span><span class="o">,</span> <span class="s">"10"</span><span class="o">);</span>
<span class="n">wootric</span><span class="o">.</span><span class="na">setProperties</span><span class="o">(</span><span class="n">properties</span><span class="o">);</span>

<span class="n">wootric</span><span class="o">.</span><span class="na">survey</span><span class="o">();</span>
</code></pre>

<p>Setting end user properties will help you segment and filter results.</p>

<p>Wootric currently supports Integers, Strings, and Unix formatted dates as values.</p>

<p>Integers must be suffixed with _amount and dates must be in Unix timestamp format and suffixed with _date.</p>

<p>Keys cannot contain characters such as ‘$’, ‘.’ or the NULL character. Values cannot be nested hashes or arrays.</p>

<p align="center" >
  <img src="https://cloud.githubusercontent.com/assets/1431421/17043713/0b202224-4f7f-11e6-86cf-3193cfda998f.png" alt="Properties" title="Wootric">
</p>

<h1 id='troubleshooting'>Troubleshooting</h1>
<p><strong>Survey not showing up?</strong></p>

<p>Check that client ID, client secret and account token are correct. Account token should have a &ldquo;NPS-xxxxxxxx&rdquo; format</p>

<p><strong>Does the SDK work with Amazon devices?</strong></p>

<p>Yes, the SDK has been tested with Amazon devices.</p>

<p><strong>I&rsquo;m using <code class="prettyprint">setSurveyImmediately</code> but getting <code class="prettyprint">User not eligible</code></strong></p>

<p>Check that Wootric Mobile Switch is enabled on your <a href="https://app.wootric.com/account_settings/edit?#!/account">Acount Settings</a></p>

<p align="center" >
  <img src="https://cloud.githubusercontent.com/assets/1431421/17071952/562c86da-502a-11e6-8362-48aac99ced6a.png" alt="Wootric" title="Wootric">
</p>

<h1 id='segment-integration'>Segment Integration</h1>
<p>Wootric provides an integration for <a href="https://segment.com/">Segment</a>. The library can be found on <a href="https://github.com/Wootric/segment-android-integration-wootric">our Github</a>. </p>

<p>This library is distributed as Android library project so it can be included by referencing it as a library project.</p>
<h2 id='install-with-maven'>Install with Maven</h2><pre><code class="highlight xml"><span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>com.wootric<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>analytics-integration-wootric<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;version&gt;</span>0.1.4<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre>

<p>If you use Maven, you can include this library as a dependency.</p>
<h2 id='install-with-gradle'>Install with Gradle</h2><pre><code class="highlight groovy"><span class="n">compile</span> <span class="s1">'com.wootric:analytics-integration-wootric:0.1.4'</span>

<span class="n">dependencies</span> <span class="o">{</span>
  <span class="n">repositories</span> <span class="o">{</span>
    <span class="n">mavenCentral</span><span class="o">()</span>
    <span class="n">maven</span> <span class="o">{</span> <span class="n">url</span> <span class="s1">'https://oss.sonatype.org/content/repositories/snapshots/'</span> <span class="o">}</span>
  <span class="o">}</span>

  <span class="n">compile</span> <span class="s1">'com.segment.analytics.android:analytics:4.1.4-SNAPSHOT'</span>
<span class="o">}</span>
</code></pre>

<p>It is assumed that Segment&rsquo;s android analytics is available. The latest version can be added as dependency this way.</p>
<h2 id='intialize-analytics'>Intialize Analytics</h2><pre><code class="highlight java"><span class="kn">import</span> <span class="nn">com.segment.analytics.Analytics</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.wootric.analytics.android.integrations.wootric.WootricIntegration</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MainApplication</span> <span class="kd">extends</span> <span class="n">Application</span> <span class="o">{</span>

    <span class="n">Analytics</span> <span class="n">analytics</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="n">onCreate</span><span class="o">()</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">();</span>

        <span class="n">analytics</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Analytics</span><span class="o">.</span><span class="na">Builder</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="s">"write_key"</span><span class="o">)</span>
                <span class="o">.</span><span class="na">use</span><span class="o">(</span><span class="n">WootricIntegration</span><span class="o">.</span><span class="na">FACTORY</span><span class="o">)</span>
                <span class="o">.</span><span class="na">build</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">Analytics</span> <span class="n">getAnalytics</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">analytics</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<p>Analytics object should be initialized in the Application class, specifying that the WootricIntegration should be user.</p>
<h2 id='wootric-object'>Wootric object</h2><pre><code class="highlight java">
<span class="kn">import</span> <span class="nn">com.segment.analytics.Analytics</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.wootric.analytics.android.integrations.wootric.WootricIntegration</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.wootric.androidsdk.Wootric</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MainActivity</span> <span class="kd">extends</span> <span class="n">Activity</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="n">onResume</span><span class="o">()</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onResume</span><span class="o">();</span>

        <span class="n">Analytics</span> <span class="n">analytics</span> <span class="o">=</span> <span class="o">((</span><span class="n">MainApplication</span><span class="o">)</span> <span class="n">getApplication</span><span class="o">()).</span><span class="na">getAnalytics</span><span class="o">();</span>
        <span class="n">analytics</span><span class="o">.</span><span class="na">onIntegrationReady</span><span class="o">(</span><span class="n">WootricIntegration</span><span class="o">.</span><span class="na">FACTORY</span><span class="o">.</span><span class="na">key</span><span class="o">(),</span> <span class="k">new</span> <span class="n">Analytics</span><span class="o">.</span><span class="na">Callback</span><span class="o">&lt;</span><span class="n">Wootric</span><span class="o">&gt;()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="n">onReady</span><span class="o">(</span><span class="n">Wootric</span> <span class="n">wootric</span><span class="o">)</span> <span class="o">{</span>
                <span class="c1">// Set all aptional configuration here like:</span>
                <span class="c1">// wootric.setSurveyImmediately(true);</span>
                <span class="c1">// wootric.setLanguageCode("PL");</span>
                <span class="n">wootric</span><span class="o">.</span><span class="na">survey</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<p>In your Activity of choosing the Wootric object can be used to set all optional configurations and call <code class="prettyprint">survey()</code> method.</p>
<h1 id='mparticle-integration'>mParticle Integration</h1>
<p>Wootric provides an integration for <a href="http://mparticle.com/">mParticle</a>. </p>

<p>Instructions on how to setup the mParticle Android SDK can be found on <a href="https://github.com/mParticle/mparticle-android-sdk">mParticle&rsquo;s Github</a>.</p>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
